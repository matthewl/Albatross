<section class="p-12 bg-white">
  <div class="relative mx-auto max-w-5xl space-y-8 divide-y-2 divide-dashed divide-gray-500/50">
    <div class="text-center">
      <h2 class="text-4xl font-light tracking-tight text-gray-900">
        <%= @enquiry_form.title %>
      </h2>
      <% if @enquiry_form.introduction.present? %>
        <p class="heading mt-4 text-lg tracking-tight text-gray-500">
          <%= @enquiry_form.introduction %>
        </p>
      <% end %>
    </div>

    <%= form_for(Enquiry.new(website_id: @website.id), url: enquiries_path, html: { class: "pt-8"}) do |f| %>
      <%= f.hidden_field(:website_id) %>
      <%= f.hidden_field(:enquiry_form_id, value: @enquiry_form.id) %>

      <div class="space-y-6">
        <div class="space-y-2">
          <%= f.label :contact_name, class: "block font-light text-gray-700" %>
          <div class="w-full md:w-2/3 lg:w-1/3 mt-1 border-b border-gray-300 focus-within:border-gray-600">
            <%= f.text_field :contact_name, class: "w-full border-0 border-b border-transparent bg-gray-50 focus:border-gray-600 focus:ring-0", autocomplete: "off" %>
          </div>
        </div>

        <div class="space-y-2">
          <%= f.label :contact_number, "Contact number", class: "block font-light text-gray-700" %>
          <div class="w-full md:w-2/3 lg:w-1/3 mt-1 border-b border-gray-300 focus-within:border-gray-600">
            <%= f.telephone_field :contact_number, class: "w-full border-0 border-b border-transparent bg-gray-50 focus:border-gray-600 focus:ring-0", autocomplete: "off" %>
          </div>
        </div>

        <div class="space-y-2">
          <%= f.label :email, class: "block font-light text-gray-700" %>
          <div class="w-full md:w-2/3 lg:w-1/3 mt-1 border-b border-gray-300 focus-within:border-gray-600">
            <%= f.email_field :email, class: "w-full border-0 border-b border-transparent bg-gray-50 focus:border-gray-600 focus:ring-0", required: true, autocomplete: "off" %>
          </div>
          <div class="text-sm font-light text-gray-500">
            We require your email address to get back in touch with you.
          </div>
        </div>

        <div class="space-y-2">
          <%= f.label :message, "Enquiry message", class: "block font-light text-gray-700" %>
          <div class="mt-1 border-b border-gray-300 focus-within:border-gray-600">
            <%= f.text_area(:message, class: "block w-full border-0 border-b border-transparent bg-gray-50 focus:border-gray-600 focus:ring-0", required: true, autocomplete: "off", rows: "7") %>
          </div>
          <div class="text-sm font-light text-gray-500">
            Let us know what you are enquiring about.
          </div>
        </div>

        <p class="font-light">By submitting this enquiry, you agree to us contacting you <strong>regarding this enquiry only</strong>.</p>

        <%= f.submit "Submit", class: "inline-flex items-center border border-transparent bg-gray-600 px-4 py-2 font-medium text-white shadow-sm hover:bg-gray-700" %>
      </div>
    <% end %>
  </div>
</section>

<script>
// Example starter JavaScript for disabling form submissions if there are invalid fields
(function() {
  'use strict';
  window.addEventListener('load', function() {
    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    var forms = document.getElementsByClassName('needs-validation');
    // Loop over them and prevent submission
    var validation = Array.prototype.filter.call(forms, function(form) {
      form.addEventListener('submit', function(event) {
        if (form.checkValidity() === false) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  }, false);
})();
</script>