<% if @enquiry_form.present? %>
  <section class="bg-white p-12">
    <div class="relative mx-auto max-w-7xl divide-y-2 divide-gray-200 lg:max-w-7xl">
      <div>
        <h2 class="text-3xl font-bold tracking-tight text-gray-900">
          <%= @enquiry_form.title %>
        </h2>
        <% if @enquiry_form.introduction.present? %>
          <p class="mt-3 text-xl text-gray-500">
            <%= @enquiry_form.introduction %>
          </p>
        <% end %>
      </div>

      <div class="">
        <%= form_for(Enquiry.new(website_id: @website.id), url: enquiries_path, html: { honeypot: true }) do |f| %>
          <%= f.hidden_field(:website_id) %>
          <%= f.hidden_field(:enquiry_form_id, value: @enquiry_form.id) %>

          <div class="">
            <div>
              <%= f.label :contact_name, class: "" %>
              <%= f.text_field :contact_name, class: "", autocomplete: "off" %>
            </div>

            <div>
              <%= f.label :contact_number, "Contact number", class: "" %>
              <%= f.text_field :contact_number, class: "", autocomplete: "off" %>
            </div>

            <div>
              <%= f.label :email, class: "" %>
              <%= f.text_field :email, class: "", required: true, autocomplete: "off" %>
              <div class="">
                We require your email address to get back in touch with you.
              </div>
            </div>
          </div>

          <div class="">
            <div class="">
              <%= f.label :message, "Enquiry message", class: "" %>
              <%= f.text_area(:message, class: "", required: true, autocomplete: "off", rows: "7") %>
              <div class="">
                Let us know what you are enquiring about.
              </div>
            </div>
          </div>

          <p>By submitting this form, you agree to us contacting you <strong>regarding this <%= widget.form.name.downcase %></strong>.</p>

          <%= f.submit "Submit", class: "" %>
        <% end %>
      </div>
    </div>
  </section>
<% end %>

<script>
// Example starter JavaScript for disabling form submissions if there are invalid fields
(function() {
  'use strict';
  window.addEventListener('load', function() {
    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    var forms = document.getElementsByClassName('needs-validation');
    // Loop over them and prevent submission
    var validation = Array.prototype.filter.call(forms, function(form) {
      form.addEventListener('submit', function(event) {
        if (form.checkValidity() === false) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  }, false);
})();
</script>