
<section class="p-12 bg-white">
  <div class="relative mx-auto divide-y-2 divide-gray-200 max-w-7xl">
    <div>
      <h2 class="text-3xl font-bold tracking-tight text-gray-900">
        <%= @enquiry_form.title %>
      </h2>
      <% if @enquiry_form.introduction.present? %>
        <p class="mt-3 text-xl text-gray-500">
          <%= @enquiry_form.introduction %>
        </p>
      <% end %>
    </div>

    <div class="mt-12">
      <%= form_for(Enquiry.new(website_id: @website.id), url: enquiries_path, html: { class: "pt-8" } ) do |f| %>
        <%= f.hidden_field(:website_id) %>
        <%= f.hidden_field(:enquiry_form_id, value: @enquiry_form.id) %>

        <div class="space-y-6">
          <div class="space-y-2">
            <%= f.label :contact_name, class: "block text-sm font-medium text-gray-700" %>
            <%= f.text_field :contact_name, class: "block w-1/3 rounded-md border-gray-300 shadow-sm sm:text-sm focus:border-gray-500 focus:ring-gray-500", autocomplete: "off" %>
          </div>

          <div class="space-y-2">
            <%= f.label :contact_number, "Contact number", class: "block text-sm font-medium text-gray-700" %>
            <%= f.telephone_field :contact_number, class: "block w-1/3 rounded-md border-gray-300 shadow-sm sm:text-sm focus:border-gray-500 focus:ring-gray-500", autocomplete: "off" %>
          </div>

          <div class="space-y-2">
            <%= f.label :email, class: "block text-sm font-medium text-gray-700" %>
            <%= f.email_field :email, class: "block w-1/3 rounded-md border-gray-300 shadow-sm sm:text-sm focus:border-gray-500 focus:ring-gray-500", required: true, autocomplete: "off" %>
            <div class="text-sm font-medium text-gray-500">
              We require your email address to get back in touch with you.
            </div>
          </div>

          <div class="space-y-2">
            <%= f.label :message, "Enquiry message", class: "block text-sm font-medium text-gray-700" %>
            <%= f.text_area(:message, class: "block w-full rounded-md border-gray-300 shadow-sm sm:text-sm focus:border-gray-500 focus:ring-gray-500", required: true, autocomplete: "off", rows: "7") %>
            <div class="text-sm font-medium text-gray-500">
              Let us know what you are enquiring about.
            </div>
          </div>

          <p>By submitting this enquiry, you agree to us contacting you <strong>regarding this enquiry only</strong>.</p>

          <%= f.submit "Submit", class: "inline-flex items-center rounded-md border border-transparent bg-gray-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-gray-700" %>
        </div>
      <% end %>
    </div>
  </div>
</section>

<script>
// Example starter JavaScript for disabling form submissions if there are invalid fields
(function() {
  'use strict';
  window.addEventListener('load', function() {
    // Fetch all the forms we want to apply custom Bootstrap validation styles to
    var forms = document.getElementsByClassName('needs-validation');
    // Loop over them and prevent submission
    var validation = Array.prototype.filter.call(forms, function(form) {
      form.addEventListener('submit', function(event) {
        if (form.checkValidity() === false) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add('was-validated');
      }, false);
    });
  }, false);
})();
</script>